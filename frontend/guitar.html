<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Chord Craft 메인페이지</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      h1 {
        margin-top: 100px;
        text-align: center;
      }
      .recording-container {
        text-align: center;
        margin: 20px 0;
      }
      /* 서브창 스타일 */
      .modal {
        display: none;
        position: fixed;
        top: 20%;
        left: 30%;
        width: 40%;
        background: #fff;
        border: 1px solid #ccc;
        padding: 20px;
        z-index: 999;
      }
      .modal h3 {
        margin-bottom: 10px;
      }
      .modal button {
        margin-top: 10px;
      }
      .modal input[type="text"] {
        width: 100%;
        margin-bottom: 10px;
        padding: 8px;
      }

      /* 악보 업로드용 서브창 버튼 */
      #open-sheet-upload {
        display: block;
        margin: 20px auto;
        background: #f3e5ab;
        border: 1px solid #ccc;
        padding: 8px 14px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }
      #open-sheet-upload:hover {
        background-color: #ecd898;
      }
    </style>
  </head>
  <body>
    <a href="guitar.html" class="logo">ChordCraft</a>
    <button class="logout-button" id="logout-button">로그아웃</button>

    <h1>Virtual Guitar 연주</h1>

    <div id="nav-buttons" style="margin-bottom: 20px; text-align: center">
      <a href="profile.html"><button>프로필 페이지</button></a>
      <a href="board.html"><button>게시판 페이지</button></a>
      <a href="library.html"><button>내 라이브러리</button></a>
    </div>

    <div id="current-chord-display" style="text-align: center">
      선택된 코드: 없음
    </div>

    <div class="recording-container">
      <div id="recording-status"></div>
      <button id="record-button">녹음 시작</button>
    </div>

    <!-- 악보 업로드 버튼 (파일 선택 폼 제거) -->
    <button id="open-sheet-upload">
      악보 보관함 열기 (악보 업로드 / 선택)
    </button>
    <div style="text-align: center">
      <img id="sheet-music" alt="악보" />
    </div>

    <div id="guitar">
      <div id="guitar-body">
        <div class="string" data-string="6"></div>
        <div class="string" data-string="5"></div>
        <div class="string" data-string="4"></div>
        <div class="string" data-string="3"></div>
        <div class="string" data-string="2"></div>
        <div class="string" data-string="1"></div>
      </div>
    </div>

    <h2>키보드 설정</h2>
    <form id="keyboard-settings-form">
      <label for="code-keys">코드 선택 키:</label>
      <input type="text" id="code-keys" value="C,D,E,F,G,A,B" />
      <label for="chord-type-keys">코드 모드 키:</label>
      <input type="text" id="chord-type-keys" value="1,2,3,4,5,6" />
      <label for="string-keys">연주 키:</label>
      <input type="text" id="string-keys" value="u,i,o,p,[,]" />
      <button type="submit">설정 저장</button>
    </form>

    <div>
      <h3>코드 모드 키 설명</h3>
      <ul>
        <li>1: Major</li>
        <li>2: 7</li>
        <li>3: m</li>
        <li>4: M7</li>
        <li>5: m7</li>
        <li>6: Barre Chord</li>
      </ul>
      <p>예: C + 3 => Cm 코드</p>
    </div>

    <h2>악기 선택</h2>
    <div id="instruments" style="text-align: center">
      <select id="instrument-select">
        <option value="guitar">기타</option>
        <option value="piano">피아노</option>
        <option value="violin">바이올린</option>
      </select>
    </div>

    <!-- 녹음한 음악 이름 지정 모달 -->
    <div class="modal" id="record-name-modal">
      <h3>녹음한 음악 제목 입력</h3>
      <input type="text" id="recorded-music-title" placeholder="음악 제목" />
      <button id="save-recorded-music">저장하기</button>
      <button id="close-record-name-modal">취소</button>
    </div>

    <!-- 악보 보관함 모달(악보 업로드/선택) -->
    <div class="modal" id="sheet-library-modal">
      <button id="close-sheet-library-modal">닫기</button>
      <h3>악보 보관함</h3>
      <h4>등록된 악보</h4>
      <div
        id="sheet-library-list"
        style="
          border: 1px solid #ccc;
          padding: 10px;
          max-height: 200px;
          overflow: auto;
        "
      ></div>
      <h4>악보 업로드</h4>
      <input type="text" id="sheet-upload-title" placeholder="악보 제목" />
      <input type="file" id="sheet-upload-input" accept="image/*" />
      <button id="upload-sheet-btn">업로드</button>
    </div>

    <script type="module" src="js/guitar.js"></script>
  </body>
</html>
